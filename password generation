#include <iostream>
#include <string>
#include <random>
#include <algorithm>

std::string generate_password(int length) {
    // Define character sets
    const std::string lower_case = "abcdefghijklmnopqrstuvwxyz";
    const std::string upper_case = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const std::string numbers    = "0123456789";
    const std::string symbols    = "!@#$%^&*()-_+=<>?";

    // Combine all character sets
    const std::string all_chars = lower_case + upper_case + numbers + symbols;
    
    // Check if the requested length is valid
    if (length <= 0) {
        return "Error: Length must be positive.";
    }

    // Modern C++ random number generator setup
    std::random_device rd;
    std::mt19937 generator(rd());
    
    // Distribution for picking a random index within the 'all_chars' string
    std::uniform_int_distribution<> distribution(0, all_chars.length() - 1);

    std::string password = "";
    
    // Build the password character by character
    for (int i = 0; i < length; ++i) {
        password += all_chars[distribution(generator)];
    }

    return password;
}

void password_generator_main() {
    int length;
    std::cout << "--- Password Generator ---\n";
    std::cout << "Enter desired password length: ";
    std::cin >> length;

    std::string password = generate_password(length);
    
    std::cout << "\nGenerated Password: **" << password << "**\n";
}

// int main() {
//     password_generator_main();
//     return 0;
// }
