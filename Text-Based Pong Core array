#include <iostream>
#include <thread>
#include <chrono>
#include <cstdlib>

const int WIDTH = 40;
const int HEIGHT = 10;
int ballX = WIDTH / 2;
int ballY = HEIGHT / 2;
int dirX = 1;
int dirY = 1;

void Draw() {
    std::system("clear"); // Use "cls" for Windows
    
    for (int i = 0; i < WIDTH + 2; i++)
        std::cout << "#";
    std::cout << "\n";

    for (int i = 0; i < HEIGHT; i++) {
        for (int j = 0; j < WIDTH; j++) {
            if (j == 0 || j == WIDTH - 1) {
                std::cout << "|"; 
            } else if (i == ballY && j == ballX) {
                std::cout << "O"; 
            } else {
                std::cout << " ";
            }
        }
        std::cout << "|\n";
    }

    for (int i = 0; i < WIDTH + 2; i++)
        std::cout << "#";
    std::cout << "\n";
}

void Logic() {
    ballX += dirX;
    ballY += dirY;

    if (ballY == 0 || ballY == HEIGHT - 1) {
        dirY = -dirY;
    }
    
    if (ballX == 1 || ballX == WIDTH - 2) {
        dirX = -dirX;
    }
}

int main() {
    while (true) {
        Draw();
        Logic();
        std::this_thread::sleep_for(std::chrono::milliseconds(50));
    }
    return 0;
}
